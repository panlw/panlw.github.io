<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Junkman
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="Junkman" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:panlw.github.io ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Junkman</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="Infra.html">Infra</a></li>
        
            <li><a href="Coding.html">Coding</a></li>
        
            <li><a href="Modeling.html">Modeling</a></li>
        
            <li><a href="Archtecting.html">Archtecting</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="15316425921812.html">
                
                  <h1>10 分钟大数据 Hadoop 基础入门</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<blockquote>
<p><a href="https://mp.weixin.qq.com/s/wLE1fMgsEZlF78MG4XTzxw">https://mp.weixin.qq.com/s/wLE1fMgsEZlF78MG4XTzxw</a></p>

<p>本文转自中生代战略合作伙伴云栖社区（<a href="https://yq.aliyun.com%EF%BC%89">https://yq.aliyun.com）</a></p>

<p><strong>责编</strong> | 大白</p>
</blockquote>

<p>摘要： 前言 目前人工智能和大数据火热，使用的场景也越来越广，日常开发中前端同学也逐渐接触了更多与大数据相关的开发需求。因此对大数据知识也有必要进行一些学习理解 基础概念 </p>

<h2 id="toc_0">前言</h2>

<p>目前人工智能和大数据火热，使用的场景也越来越广，日常开发中前端同学也逐渐接触了更多与大数据相关的开发需求。因此对大数据知识也有必要进行一些学习理解。</p>

<h2 id="toc_1">基础概念</h2>

<h3 id="toc_2">大数据的本质</h3>

<p>一、数据的存储：分布式文件系统（分布式存储）<br/>
二、数据的计算：分部署计算</p>

<h3 id="toc_3">基础知识</h3>

<p>学习大数据需要具备 Java 知识基础及 Linux 知识基础</p>

<h3 id="toc_4">学习路线</h3>

<pre><code class="language-txt">（1）Java 基础和 Linux 基础
（2）Hadoop 的学习：体系结构、原理、编程
第一阶段：HDFS、MapReduce、HBase（NoSQL 数据库）
第二阶段：数据分析引擎 -&gt; Hive、Pig
</code></pre>

<pre><code class="language-txt">数据采集引擎 -&gt; Sqoop、Flume
</code></pre>

<p>第三阶段：HUE：Web 管理工具</p>

<pre><code class="language-txt">ZooKeeper：实现Hadoop的HA
Oozie：工作流引擎
</code></pre>

<p>（3）Spark 的学习</p>

<pre><code class="language-txt">    第一阶段：Scala编程语言
    第二阶段：Spark Core -&gt; 基于内存、数据的计算
    第三阶段：Spark SQL -&gt; 类似于mysql 的sql语句
    第四阶段：Spark Streaming -&gt;进行流式计算：比如：自来水厂
</code></pre>

<p>（4）Apache Storm 类似：Spark Streaming -&gt; 进行流式计算</p>

<p>NoSQL：Redis 基于内存的数据库</p>

<h3 id="toc_5">HDFS</h3>

<p>分布式文件系统 解决以下问题：</p>

<pre><code class="language-txt">1、硬盘不够大：多几块硬盘，理论上可以无限大
2、数据不够安全：冗余度，hdfs默认冗余为3 ，用水平复制提高效率，传输按照数据库为单位：Hadoop1.x 64M，Hadoop2.x 128M
</code></pre>

<p>管理员：NameNode 硬盘：DataNode</p>

<pre><code>![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8ca9f78b244c7f991e73f71fd1e56421.png)
</code></pre>

<h3 id="toc_6">MapReduce</h3>

<pre><code class="language-txt">基础编程模型：把一个大任务拆分成小任务，再进行汇总
MR任务：Job = Map + Reduce 
Map的输出是Reduce的输入、MR的输入和输出都是在HDFS
</code></pre>

<p>MapReduce 数据流程分析：</p>

<pre><code class="language-txt">Map的输出是Reduce的输入，Reduce的输入是Map的集合
</code></pre>

<p><img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIP1hV2PSgv2fnRfMHneHt4KkFKkmJNHKjkYpoh4SKTyOticbCWiboGLCMA/640?wx_fmt=png" alt=""/></p>

<h3 id="toc_7">HBase</h3>

<p>什么是 BigTable？: 把所有的数据保存到一张表中，采用冗余 ---&gt; 好处：提高效率</p>

<pre><code class="language-txt">1、因为有了bigtable的思想：NoSQL：HBase数据库
2、HBase基于Hadoop的HDFS的
3、描述HBase的表结构
核心思想是：利用空间换效率
</code></pre>

<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPx6978983W1KtowttI3TxaXwZHhf9vSdVbaKJFKguqaICazmVicdIDkA/640?wx_fmt=jpeg" alt=""/></p>

<h2 id="toc_8">Hadoop 环境搭建</h2>

<h3 id="toc_9">环境准备</h3>

<p>Linux 环境、JDK、<a href="http://mirrors.shu.edu.cn/apache/hadoop/common/hadoop-3.0.0/hadoop-3.0.0-src.tar.gz">http://mirrors.shu.edu.cn/apache/hadoop/common/hadoop-3.0.0/hadoop-3.0.0-src.tar.gz</a></p>

<h3 id="toc_10">安装</h3>

<p>1、安装 jdk、并配置环境变量</p>

<pre><code class="language-sh">vim /etc/profile 末尾添加
![image.png](http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/a9bf2e19410f9b3d38c8b0ca64b2f264.png)
</code></pre>

<p>2、解压 hadoop-3.0.0.tar.gz、并配置环境变量</p>

<pre><code class="language-sh">tar -zxvf hadoop-3.0.0.tar.gz -C /usr/local/
mv hadoop-3.0.0/ hadoop
</code></pre>

<p><img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPaDBHsiaerZ6v39YtHh1zxljlmb6KSF3hQRJ1SlZJ83hI9YvZQEhE1aA/640?wx_fmt=png" alt=""/></p>

<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIP5cqB2v6pykF9rvjfwf6BZUQW6nUFQEfXWchLuc96zXtceAxEFYnsCg/640?wx_fmt=jpeg" alt=""/><br/>
vim /etc/profile 末尾添加<br/>
<img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPLia1mEjlphOPJTte78lxwGnRGaemBoRXoXL96QNL6c7uVQtvuw4A6rw/640?wx_fmt=png" alt=""/></p>

<h3 id="toc_11">配置</h3>

<p>Hadoop 有三种安装模式：</p>

<pre><code class="language-txt">本地模式：
       1台主机  
       不具备HDFS，只能测试MapReduce程序
伪分布模式：
       1台主机  
       具备Hadoop的所有功能，在单机上模拟一个分布式的环境
      （1）HDFS：主：NameNode，数据节点：DataNode
      （2）Yarn：容器，运行MapReduce程序
       主节点：ResourceManager
       从节点：NodeManager
全分布模式：
       至少3台
</code></pre>

<p>我们以伪分布模式为例配置：</p>

<h3 id="toc_12">修改 hdfs-site.xml：冗余度 1、权限检查 false</h3>

<pre><code class="language-xml">&lt;!--配置冗余度为1--&gt;&lt;property&gt;
    &lt;name&gt;dfs.replication&lt;/name&gt;
    &lt;value&gt;1&lt;/value&gt;&lt;/property&gt;&lt;!--配置权限检查为false--&gt;&lt;property&gt;
    &lt;name&gt;dfs.permissions&lt;/name&gt;
    &lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
</code></pre>

<h3 id="toc_13">修改 core-site.xml</h3>

<pre><code class="language-xml">&lt;!--配置HDFS的NameNode--&gt;&lt;property&gt;
    &lt;name&gt;fs.defaultFS&lt;/name&gt;
    &lt;value&gt;hdfs://192.168.56.102:9000&lt;/value&gt;&lt;/property&gt;&lt;!--配置DataNode保存数据的位置--&gt;&lt;property&gt;
    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
    &lt;value&gt;/usr/local/hadoop/tmp&lt;/value&gt;&lt;/property&gt;
</code></pre>

<h3 id="toc_14">修改 mapred-site.xml</h3>

<pre><code class="language-xml">&lt;!--配置MR运行的框架--&gt;&lt;property&gt;
    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;
    &lt;value&gt;yar&lt;/value&gt;&lt;/property&gt;&lt;property&gt;
    &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;
    &lt;value&gt;HADOOP_MAPRED_HOME=/usr/local/hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;
    &lt;name&gt;mapreduce.map.env&lt;/name&gt;
    &lt;value&gt;HADOOP_MAPRED_HOME=/usr/local/hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;
    &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;
    &lt;value&gt;HADOOP_MAPRED_HOME=/usr/local/hadoop&lt;/value&gt;&lt;/property&gt;&lt;property&gt;
    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;
    &lt;value&gt;
            /usr/local/hadoop/etc/hadoop,
            /usr/local/hadoop/share/hadoop/common/*,
            /usr/local/hadoop/share/hadoop/common/lib/*,
            /usr/local/hadoop/share/hadoop/hdfs/*,
            /usr/local/hadoop/share/hadoop/hdfs/lib/*,
            /usr/local/hadoop/share/hadoop/mapreduce/*,
            /usr/local/hadoop/share/hadoop/mapreduce/lib/*,
            /usr/local/hadoop/share/hadoop/yarn/*,
            /usr/local/hadoop/share/hadoop/yarn/lib/*,        &lt;/value&gt;    &lt;/property&gt;
</code></pre>

<h3 id="toc_15">修改 yarn-site.xml</h3>

<pre><code class="language-xml">&lt;!--配置ResourceManager地址--&gt;&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
    &lt;value&gt;192.168.56.102&lt;/value&gt;&lt;/property&gt;&lt;!--配置NodeManager执行任务的方式--&gt;&lt;property&gt;
    &lt;name&gt;yarn.nodemanager.aux-service&lt;/name&gt;
    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;&lt;/property&gt;
</code></pre>

<h3 id="toc_16">格式化 NameNode</h3>

<pre><code class="language-sh">hdfs namenode -format
</code></pre>

<p>看到</p>

<pre><code class="language-sh">common.Storage: Storage directory /usr/local/hadoop/tmp/dfs/name has been successfully formatted
</code></pre>

<p>表示格式化成功</p>

<h3 id="toc_17">启动</h3>

<pre><code class="language-sh">start-all.sh
(*)HDFS：存储数据
(*)YARN：
</code></pre>

<h3 id="toc_18">访问</h3>

<pre><code class="language-sh">（*）命令行
（*）Java Api
（*）WEB Console
HDFS: http://192.168.56.102:50070
Yarn: http://192.168.56.102:8088
</code></pre>

<p><img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPpcicNVf5hKhzSNknA8DhdgClJ8lrQuAuqKMdsRhMRlK1jsjCXK4iandA/640?wx_fmt=png" alt=""/></p>

<p>查看 HDFS 管理界面和 yarn 资源管理系统<br/>
<img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPpN7SdQ7nIVmWicFVGa8A3691bJ7YPzW1MTYxkvRAz9l3iaMRDORezia5Q/640?wx_fmt=png" alt=""/><br/>
<img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPuXXEPicaukuMqGia0lPiaqOOlw6Kib1nSLZ21Be4uMwSrAogXV28HTlARw/640?wx_fmt=png" alt=""/></p>

<h2 id="toc_19">基本操作：</h2>

<h3 id="toc_20">HDFS 相关命令</h3>

<pre><code class="language-sh">-mkdir   在HDFD创建目录    hdfs dfs -mkdir /data
-ls         查看目录                 hdfs dfs -ls
-ls -R      查看目录与子目录    hdfs dfs -ls -R
-put        上传一个文件        hdfs dfs -put data.txt /data/input
-copyFromLocal 上传一个文件 与-put一样
-moveFromLocal 上传一个文件并删除本地文件 
-copyToLocal        下载文件 hdfs dfs -copyTolocal /data/input/data.txt
-put    下载文件 hdfs dfs -put/data/input/data.txt
-rm     删除文件 hdfs dfs -rm
-getmerge     将目录所有文件先合并再下载
-cp    拷贝
-mv    移动
-count    统计目录下的文件个数
-text、-cat    查看文件
-balancer    平衡操作
</code></pre>

<p><img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPUicAWmeD2adNf0icdkr4JqPVDxhdM3jSSGhY84KrY0eKpHbWywjI0ctg/640?wx_fmt=png" alt=""/></p>

<h2 id="toc_21">MapReduce 示例</h2>

<p><img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPnPl8wdntxoXuygpvLOnG90D654ia5ZTH90G6gjGIdaayh2V4zI4qNYg/640?wx_fmt=png" alt=""/><br/>
结果：<br/>
<img src="https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHp8iaJI7BhDZSBjOxvGW2yIPJSTyYtKGSnEYhBa0H6xnx9CxEXYTicoxUt0EH3NzbAREotBYicCVCrfw/640?wx_fmt=png" alt=""/><br/>
如上 一个最简单的 MapReduce 示例就执行成功了</p>

<h2 id="toc_22">思考</h2>

<p>Hadoop 是基于 Java 语言的，前端日常开发是用的 PHP，在使用、查找错误时还是蛮吃力的。工作之余还是需要多补充点其它语言的相关知识，编程语言是我们开发、学习的工具，而不应成为限制我们技术成长的瓶颈！</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2018/7/15</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='BigData.html'>BigData</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   <a href="all_101.html">&laquo; Prev Page</a>  
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="all_103.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="./asset/img/logo.jpg" /></div>
            
                <h1>Junkman</h1>
                <div class="site-des">“拾荒者”一词来自凯文・凯利的《失控》中关于机器学习的故事（“收集癖好机”如何完成他的收集工作）。</div>
                <div class="social">









<a target="_blank" class="github" target="_blank" href="https://github.com/panlw/" title="GitHub">GitHub</a>

  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Infra.html"><strong>Infra</strong></a>
        
            <a href="Coding.html"><strong>Coding</strong></a>
        
            <a href="Modeling.html"><strong>Modeling</strong></a>
        
            <a href="Archtecting.html"><strong>Archtecting</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15459058392039.html">Reliable Domain Events</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15459049161482.html">Transaction Synchronization and Spring Application Events: Understanding @TransactionalEventListener</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15459021437244.html">Reliable Delivery Pub/Sub Message Queues with Redis</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15456691642791.html">Spring の Cache Abstraction で、複数の CacheManager を合わせる CompositeCacheManager を使う</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15456638361570.html">Spring boot metrics monitoring using TICK stack</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>


  </body>
</html>
