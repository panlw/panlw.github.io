<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Securing Spring Boot with JWTs - Junkman
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="Junkman" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:panlw.github.io ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Junkman</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="Infra.html">Infra</a></li>
        
            <li><a href="Coding.html">Coding</a></li>
        
            <li><a href="Solution.html">Solution</a></li>
        
            <li><a href="Archtect.html">Archtect</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
          <h1>Securing Spring Boot with JWTs</h1>
     
        <div class="read-more clearfix">
          <span class="date">2018/9/3</span>

          <span>posted in&nbsp;</span> 
          
              <span class="posted-in"><a href='IAM.html'>IAM</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <blockquote>
<p><a href="https://auth0.com/blog/securing-spring-boot-with-jwts/">https://auth0.com/blog/securing-spring-boot-with-jwts/</a></p>

<p>Dylan Meeus September 20, 2016</p>
</blockquote>

<pre><code>Learn how to set up a Spring Boot project using Java, and secure it with JWTs.
</code></pre>

<p>The approach exposed in this article is <strong>out-of-date</strong> and is left here for reference only. Please, <a href="/blog/implementing-jwt-authentication-on-spring-boot" target="_blank">check out a <strong>better and up-to-date</strong> approach on how to secure Spring Boot applications with JWTs here.</a><br/>
</div></p>

<p class="selectionShareable"><strong>TL;DR:</strong> Spring Boot is a technology that makes it easy to create Java and Groovy applications utilizing the full power of Spring, with minimal setup. It allows you to create applications that 'just run' without hassle; and even the project setup becomes a breeze. Read on to find out how to set up a fully-functioning project and secure it with JWT in almost no time!</p>

<hr>

<h2>Spring Boot Overview</h2>

<p class="selectionShareable"><a href="https://projects.spring.io/spring-boot/" target="_blank">Spring Boot</a> is a technology from <a href="https://pivotal.io/" target="_blank">Pivotal</a>, known for giving us the powerful Spring framework. With Spring Boot, they offer an easy way to set up a project and get it running in no time. They took the approach of valuing convention over configuration, meaning that you will spend a lot less time struggling with the setup and more time focusing on what is unique about your project. Along with having an embedded Tomcat, Jetty, or Undertow, a large number of possible the deployment issues have been eliminated, causing most applications to 'just run'.</p>

<p class="selectionShareable">Above all, Spring Boot is meant to make it <em>easy</em> to get a project running, starting all the way at the beginning by providing multiple ways to set up a Spring Boot project. Let's jump right into setting up our project and getting our 'Hello World'!</p>

<p class="selectionShareable">If you can't wait to see the result, feel free to check out the full code on this <a href="https://github.com/auth0-blog/spring-boot-jwts" target="_blank">GitHub repository</a>.</p>

<h2>Setting Up the Spring Boot Project</h2>

<p class="selectionShareable">There are various ways to get started with a Spring Boot project. They provide both a <a href="http://start.spring.io/" target="_blank">quick start</a> and a <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/cli-using-the-cli.html" target="_blank">CLI tool</a>. If we didn't want to use those, we could also set up a project with Spring Boot manually, using either <a href="https://maven.apache.org/" target="_blank">Maven</a> or <a href="https://gradle.org/" target="_blank">Gradle</a> and adding the necessary dependencies ourselves. In this post we will set up a project using the quick start approach, which can be found at <a href="http://start.spring.io/" target="_blank">start.spring.io</a>.</p>

<p class="selectionShareable">When we head over to the quick start webpage, we are presented with a few options on the main page. We will generate a <em>Maven project</em> with the latest version of Spring Boot (1.5.2 last time I checked). With the Project Metadata we could set up the standard properties of a Maven artifact, but we'll just leave it at the default for now.</p>

<p class="selectionShareable">Next, we can search for dependencies. Searching for dependencies is a handy feature once you have used Spring Boot several times and are aware of the available dependencies. Because this is our first project, however, we can click on the link at the bottom that says <em>switch to full version</em>. After doing this, we have a webpage with checkboxes for all the available dependencies. Because we want to create a web project, we'll tick that checkbox under the <em>web</em> heading.</p>

<p class="selectionShareable"><img src="https://cdn.auth0.com/blog/spring-boot-auth/springboot-start.png" alt="Spring boot start page"></p>

<p class="selectionShareable">There are a lot of dependencies available that work with Spring Boot out of the box. Many of the common technologies are provided here, such as dependencies for <a href="https://spring.io/understanding/HATEOAS" target="_blank">HATEOAS</a>, <a href="https://en.wikibooks.org/wiki/Java_Persistence/What_is_JPA%3F" target="_blank">JPA</a>, <a href="https://www.mongodb.com/" target="_blank">MongoDB</a>, and <a href="http://www.thymeleaf.org/" target="_blank">Thymeleaf</a>. If we are going to use one of the common Java technologies, chances are good that it can easily be included in our Spring Boot project.</p>

<p class="selectionShareable">For now, all we really need is the <em>Web</em> dependency, which gives us several things including a Tomcat server and the <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html" target="_blank">Spring MVC framework</a>. Once we click on the <em>Generate Project</em> button, a download containing a starting project for our selected setup will start. Setting up a Spring Boot project really is just a matter of minutes!</p>

<h2>Our First Spring Boot Application</h2>

<p class="selectionShareable">Once we have downloaded our zip file, the project can be imported into our favorite editor. At this point, some code is already generated for us. Let's first take a look at some of the code, to understand what Spring Boot has prepared for us.</p>

<p class="selectionShareable">As this is a Maven project, we will examine the <code>pom.xml</code> file first. The top of the file is pretty much a standard pom file. It identifies our project by the <code>groupId</code> and the <code>artifactId</code>. Our project also has a name and a description. Next, there is a reference to a parent. This is the parent of all Spring Boot starters, and contains further dependencies needed for the base of Spring Boot. Also, the <code>version</code> tag of the parent, defines the Spring Boot version that we are using.</p>

<p class="selectionShareable">This is followed by the properties, which tells us something more about the project. Because we have chosen Java 8, the properties also reflect this in the <code>java.version</code> tag.</p>

<p class="selectionShareable">Here comes the interesting part:</p>

<pre><code class="xml hljs"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span>
    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span>

<span class="tag">&lt;<span class="name">build</span>&gt;</span>
    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span>
        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span>
            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span>
<span class="tag">&lt;/<span class="name">build</span>&gt;</span>
</code></pre>

<p class="selectionShareable">The dependencies presented here are the ones that were selected during the setup. Because we only selected the Web dependency, we will see both <em>Web</em> and <em>Test</em> dependencies (<em>Test</em> is provided by default, for unit testing our application). Although it might look like there are not a lot of dependencies being pulled in, that's not quite the case. The <code>spring-boot-starter-...</code> dependencies that we enter here actually fetch other dependencies they need. Because this is invisible to us, the pom.xml file looks quite clean, and all the management of those dependencies is taken care of for us as well.</p>

<p class="selectionShareable">Next, there is one plugin, the <code>spring-boot-maven-plugin</code>. This will let us build and deploy the entire application with one simple Maven command:<code>mvn spring-boot:run</code>. If we try to run this now, there won't be anything interesting yet. After running that command, we can go to <code>localhost:8080</code>, though all we will see is a "Whitelabel Error Page". But, if all went well, the compilation worked without any problems and our server is up and running. Time to start doing something interesting with it!</p>

<h2>Creating a Web Application</h2>

<p class="selectionShareable">In this part, we will set up a small application that will accept HTTP requests on various paths and return data. To keep this example concise, all the information will be statically provided. At first, we will just expose all the data to everyone; then we will secure some routes with a JWT and provide a login mechanism.</p>

<p class="selectionShareable">For starters, we will just create a mapping against the root (<code>/</code>) of our webserver in order to verify that this is working; afterwards we can add more specific routes for the various functions that we will offer. When we want to make methods for certain paths, we need to create a <code>RestController</code>. For now we will use our only class for this, and we will add the <code>RestController</code> and <code>EnableAutoConfiguration</code> annotations to this class. The class should be called <code>DemoApplication</code> and it is the only class with a main method.</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example;

<span class="keyword">import</span> org.springframework.boot.SpringApplication;
<span class="keyword">import</span> org.springframework.boot.autoconfigure.EnableAutoConfiguration;
<span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
<span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;
<span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;

<span class="meta">@SpringBootApplication</span>
<span class="meta">@RestController</span>
<span class="meta">@EnableAutoConfiguration</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoApplication</span> </span>{

    <span class="meta">@RequestMapping</span>(<span class="string">"/"</span>)
    <span class="function">String <span class="title">hello</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> <span class="string">"hello world"</span>;
    }

    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{
        SpringApplication.run(DemoApplication.class, args);
    }
}
</code></pre>

<p class="selectionShareable">When we run our application, by using <code>mvn spring-boot:run</code>, we can navigate to <code>localhost:8080</code>, and are presented with a "Hello World" message. An alternative approach would be to use a CLI tool like <code>curl</code> or the <code>postman</code> application to send requests to the webserver. When dealing with JWTs, <a href="https://www.getpostman.com/" target="_blank">postman</a> offers an incredibly convenient way to test our application.</p>

<p class="selectionShareable">Now we will extend this example a little bit. We will create a new class <code>UserController</code>, which will be once again annotated with <code>@RestController</code>. We will return some static JSON data at route <code>/users</code> to begin with.</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example;

<span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;
<span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;
<span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;

<span class="meta">@RestController</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>{

  <span class="comment">/* Maps to all HTTP actions by default (GET,POST,..)*/</span>
  <span class="meta">@RequestMapping</span>(<span class="string">"/users"</span>)
  <span class="keyword">public</span> <span class="meta">@ResponseBody</span> <span class="function">String <span class="title">getUsers</span><span class="params">()</span> </span>{
    <span class="keyword">return</span> <span class="string">"{\"users\":[{\"firstname\":\"Richard\", \"lastname\":\"Feynman\"},"</span> +
           <span class="string">"{\"firstname\":\"Marie\",\"lastname\":\"Curie\"}]}"</span>;
  }
}
</code></pre>

<p class="selectionShareable">We have some pretty similar code to our original 'Hello World', but now we are returning JSON-encoded data. For this reason, the <code>@ResponseBody</code> annotation has been added. With this annotation, when a request specifies in the headers that it wants to accept <code>application/json</code>, the data will be returned to the client as JSON. When testing this with postman, the returned data look like this:</p>

<pre><code class="json hljs"> {
     <span class="attr">"user"</span>: [{
         <span class="attr">"firstname"</span>: <span class="string">"Richard"</span>,
         <span class="attr">"lastname"</span>: <span class="string">"Feynman"</span>
     }, {
         <span class="attr">"firstname"</span>: <span class="string">"Marie"</span>,
         <span class="attr">"lastname"</span>: <span class="string">"Curie"</span>
     }]
 }
</code></pre>

<h2>Securing Spring Boot Application With JWT</h2>

<div class="alert alert-warning alert-icon">
  <a href="/blog/implementing-jwt-authentication-on-spring-boot" target="_blank">A <strong>better and easier</strong> way on how to secure Spring Boot with JWTs is explained here. Take a look!</a>
</div>

<p class="selectionShareable">At this point, our application is exposed to everyone. Anyone can query our webserver and request a list of all the users. We'd prefer that it's only exposed to people who are logged in. For this purpose, we will secure our application with JSON Web Tokens (JWTs).</p>

<p class="selectionShareable">JWT is a relatively new technology, defined in <a href="https://tools.ietf.org/html/rfc7519" target="_blank">rfc-7519</a>. It defines a compact, URL-safe way of sharing data between parties using a JSON object. The information is signed with either a secret (using an HMAC) or a public/private key-pair using RSA. If you want to learn more about <a href="https://auth0.com/learn/json-web-tokens/" target="_blank">JWTs</a>, we've got you covered!</p>

<h3>Adding Secure Routes</h3>

<p class="selectionShareable">The first step is to secure some routes of our application. For this demo we will expose the routes <code>/</code> and <code>/login</code> to everyone, and only expose <code>/users</code> to people whom can provide a valid JWT token. To achieve this, we start by adding <code>spring-boot-starter-security</code> to our <code>pom.xml</code>. This will give us the necessary classes to start working with authentication in Spring Boot. In addition, we will add a dependency to manage our JWTs.</p>

<pre><code class="xml hljs"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

<span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
</code></pre>

<p class="selectionShareable">Once we have updated the <code>pom.xml</code> file and imported the new dependencies, we are ready to start securing our routes. First of all, we want to avoid exposing <code>/users</code> to everyone, so we will create a configuration that restricts its access. We will accomplish this by adding a new class called <code>WebSecurityConfig</code> that extends the <code>WebSecurityConfigurerAdapter</code> class from Spring Security. Let's add this new class, under a new package called <code>com.example.security</code>, with the following content:</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example.security;

<span class="keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="keyword">import</span> org.springframework.http.HttpMethod;
<span class="keyword">import</span> org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
<span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;
<span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
<span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
<span class="keyword">import</span> org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;

<span class="meta">@Configuration</span>
<span class="meta">@EnableWebSecurity</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>{
  <span class="meta">@Override</span>
  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>{
    http.csrf().disable().authorizeRequests()
        .antMatchers(<span class="string">"/"</span>).permitAll()
        .antMatchers(HttpMethod.POST, <span class="string">"/login"</span>).permitAll()
        .anyRequest().authenticated()
        .and()
        <span class="comment">// We filter the api/login requests</span>
        .addFilterBefore(<span class="keyword">new</span> JWTLoginFilter(<span class="string">"/login"</span>, authenticationManager()),
                UsernamePasswordAuthenticationFilter.class)
        <span class="comment">// And filter other requests to check the presence of JWT in header</span>
        .addFilterBefore(<span class="keyword">new</span> JWTAuthenticationFilter(),
                UsernamePasswordAuthenticationFilter.class);
  }

  <span class="meta">@Override</span>
  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>{
    <span class="comment">// Create a default account</span>
    auth.inMemoryAuthentication()
        .withUser(<span class="string">"admin"</span>)
        .password(<span class="string">"password"</span>)
        .roles(<span class="string">"ADMIN"</span>);
  }
}
</code></pre>

<p class="selectionShareable">Here we have decided that everyone can access the <code>/</code> route, and that the <code>/login</code> route is only publicly available for <code>POST</code> requests. For all other routes, authentication is required. You may have noted that the <code>JWTLoginFilter</code> class and the <code>JWTAuthenticationFilter</code> class are missing. We will create them soon, but their goal is to filter for the <code>/login</code> route, and every other route, to decide what should happen when someone access these routes. In this class, we also added a default account that we can use to test our application.</p>

<p class="selectionShareable">The great thing here is that we have now secured our application without having to change code for existing routes. We did not alter our previously created <code>UserController</code>, nor did we have to write any xml-configuration.</p>

<p class="selectionShareable">The classes <code>JWTLoginFilter</code> and <code>JWTAuthenticationFilter</code> will handle logging in and authenticating users, respectively. Before we can use these classes, however, we need to create a class that can handle JWTs.</p>

<h3>Creating a JWT Service on Spring Boot</h3>

<p class="selectionShareable">Our JWT service will deal with the creation and verification of our tokens. In this example, we will create a token based on a username and an expiration time, and then sign it with a secret (using an HMAC). We will use <code>io.jsonwebtoken.Jwts</code> here for creating and verifying our tokens; they also provide a bunch of algorithms we can use to sign our secret.</p>

<p class="selectionShareable">For this, let's create a new class called <code>TokenAuthenticationService</code>, under the <code>com.example.security</code>, with the following code:</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example.security;

<span class="keyword">import</span> io.jsonwebtoken.Jwts;
<span class="keyword">import</span> io.jsonwebtoken.SignatureAlgorithm;
<span class="keyword">import</span> org.springframework.security
            .authentication.UsernamePasswordAuthenticationToken;
<span class="keyword">import</span> org.springframework.security.core.Authentication;

<span class="keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="keyword">import</span> java.util.Date;

<span class="keyword">import</span> <span class="keyword">static</span> java.util.Collections.emptyList;

<span class="class"><span class="keyword">class</span> <span class="title">TokenAuthenticationService</span> </span>{
  <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> EXPIRATIONTIME = <span class="number">864_000_000</span>; <span class="comment">// 10 days</span>
  <span class="keyword">static</span> <span class="keyword">final</span> String SECRET = <span class="string">"ThisIsASecret"</span>;
  <span class="keyword">static</span> <span class="keyword">final</span> String TOKEN_PREFIX = <span class="string">"Bearer"</span>;
  <span class="keyword">static</span> <span class="keyword">final</span> String HEADER_STRING = <span class="string">"Authorization"</span>;

  <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addAuthentication</span><span class="params">(HttpServletResponse res, String username)</span> </span>{
    String JWT = Jwts.builder()
        .setSubject(username)
        .setExpiration(<span class="keyword">new</span> Date(System.currentTimeMillis() + EXPIRATIONTIME))
        .signWith(SignatureAlgorithm.HS512, SECRET)
        .compact();
    res.addHeader(HEADER_STRING, TOKEN_PREFIX + <span class="string">" "</span> + JWT);
  }

  <span class="function"><span class="keyword">static</span> Authentication <span class="title">getAuthentication</span><span class="params">(HttpServletRequest request)</span> </span>{
    String token = request.getHeader(HEADER_STRING);
    <span class="keyword">if</span> (token != <span class="keyword">null</span>) {
      <span class="comment">// parse the token.</span>
      String user = Jwts.parser()
          .setSigningKey(SECRET)
          .parseClaimsJws(token.replace(TOKEN_PREFIX, <span class="string">""</span>))
          .getBody()
          .getSubject();

      <span class="keyword">return</span> user != <span class="keyword">null</span> ?
          <span class="keyword">new</span> UsernamePasswordAuthenticationToken(user, <span class="keyword">null</span>, emptyList()) :
          <span class="keyword">null</span>;
    }
    <span class="keyword">return</span> <span class="keyword">null</span>;
  }
}
</code></pre>

<h3>Authenticating with JWTs</h3>

<p class="selectionShareable">We now have everything set up to use JWTs in our authentication process. We'll first take a look at the <code>JWTLoginFilter</code> class. This class will intercept <code>POST</code> requests on the <code>/login</code> path and attempt to authenticate the user. When the user is successfully authenticated, it will return a JWT in the <code>Authorization</code> header of the response. Let's create this class, under the <code>com.example.security</code> package, with the following content:</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example.security;

<span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;
<span class="keyword">import</span> org.springframework.security.authentication.AuthenticationManager;
<span class="keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
<span class="keyword">import</span> org.springframework.security.core.Authentication;
<span class="keyword">import</span> org.springframework.security.core.AuthenticationException;
<span class="keyword">import</span> org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;
<span class="keyword">import</span> org.springframework.security.web.util.matcher.AntPathRequestMatcher;

<span class="keyword">import</span> javax.servlet.FilterChain;
<span class="keyword">import</span> javax.servlet.ServletException;
<span class="keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="keyword">import</span> java.io.IOException;
<span class="keyword">import</span> java.util.Collections;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JWTLoginFilter</span> <span class="keyword">extends</span> <span class="title">AbstractAuthenticationProcessingFilter</span> </span>{

  <span class="function"><span class="keyword">public</span> <span class="title">JWTLoginFilter</span><span class="params">(String url, AuthenticationManager authManager)</span> </span>{
    <span class="keyword">super</span>(<span class="keyword">new</span> AntPathRequestMatcher(url));
    setAuthenticationManager(authManager);
  }

  <span class="meta">@Override</span>
  <span class="function"><span class="keyword">public</span> Authentication <span class="title">attemptAuthentication</span><span class="params">(
      HttpServletRequest req, HttpServletResponse res)</span>
      <span class="keyword">throws</span> AuthenticationException, IOException, ServletException </span>{
    AccountCredentials creds = <span class="keyword">new</span> ObjectMapper()
        .readValue(req.getInputStream(), AccountCredentials.class);
    <span class="keyword">return</span> getAuthenticationManager().authenticate(
        <span class="keyword">new</span> UsernamePasswordAuthenticationToken(
            creds.getUsername(),
            creds.getPassword(),
            Collections.emptyList()
        )
    );
  }

  <span class="meta">@Override</span>
  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">successfulAuthentication</span><span class="params">(
      HttpServletRequest req,
      HttpServletResponse res, FilterChain chain,
      Authentication auth)</span> <span class="keyword">throws</span> IOException, ServletException </span>{
    TokenAuthenticationService
        .addAuthentication(res, auth.getName());
  }
}
</code></pre>

<p class="selectionShareable">During the authentication attempt, which is dealt by the <code>attemptAuthentication</code> method, we retrieve the username and password from the request. After they are retrieved, we use the <code>AuthenticationManager</code> to verify that these details match with an existing user. If it does, we enter the <code>successfulAuthentication</code> method. In this method we fetch the name from the authenticated user, and pass it on to <code>TokenAuthenticationService</code>, which will then add a JWT to the response.</p>

<p class="selectionShareable">Now we will implement the <code>JWTAuthenticationFilter</code> class. Let's create this class, under the same <code>com.example.security</code> package, with the following content:</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example.security;

<span class="keyword">import</span> org.springframework.security.core.context.SecurityContextHolder;
<span class="keyword">import</span> org.springframework.web.filter.GenericFilterBean;
<span class="keyword">import</span> org.springframework.security.core.Authentication;
<span class="keyword">import</span> javax.servlet.FilterChain;
<span class="keyword">import</span> javax.servlet.ServletException;
<span class="keyword">import</span> javax.servlet.ServletRequest;
<span class="keyword">import</span> javax.servlet.ServletResponse;
<span class="keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="keyword">import</span> java.io.IOException;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JWTAuthenticationFilter</span> <span class="keyword">extends</span> <span class="title">GenericFilterBean</span> </span>{

  <span class="meta">@Override</span>
  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request,
             ServletResponse response,
             FilterChain filterChain)</span>
      <span class="keyword">throws</span> IOException, ServletException </span>{
    Authentication authentication = TokenAuthenticationService
        .getAuthentication((HttpServletRequest)request);

    SecurityContextHolder.getContext()
        .setAuthentication(authentication);
    filterChain.doFilter(request,response);
  }
}
</code></pre>

<p class="selectionShareable">What this filter does is to intercept all requests to validate the presence of the JWT–that is, the ones that are not issued to <code>/</code> nor <code>/users</code>. This validation is done with the help of the <code>TokenAuthenticationService</code> class.</p>

<p class="selectionShareable">We need just one extra class: the <code>AccountCredentials</code> class. This will be used to map request data when a <code>POST</code> call is made to <code>/login</code> path. The request data should contain the username and password as part of the body. Let's create this class, under the same <code>com.example.security</code> package, with the following content:</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example.security;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountCredentials</span> </span>{

  <span class="keyword">private</span> String username;
  <span class="keyword">private</span> String password;
  <span class="comment">// getters &amp; setters</span>
}
</code></pre>

<h3>Running the Spring Boot Application</h3>

<p class="selectionShareable">Our Spring Boot application is now secured and supports authentication with JWTs, so we can go ahead and run our application again. When our server is up and running, we can test this out by querying <code>http://localhost:8080/users</code>, and we should get a message saying "Access Denied." To authenticate ourselves, we will send a <code>POST</code> request to <code>/login</code> with our user's credentials in the body: <code>{"username":"admin","password":"password"}</code>.</p>

<p class="selectionShareable"><img src="https://cdn.auth0.com/blog/spring-boot-auth/postman.png" alt="POST with username-password"></p>

<p class="selectionShareable">In the response to this request, we will get a token as part of the <em>Authorization</em> header, prefixed by "Bearer". We can copy this token, with the <code>Bearer</code> prefix, to issue GET requests to our <code>/users</code> path. To do this, alter the request to <code>/users</code> to include a header called <code>Authorization</code>, paste the JWT received when logging in, and launch the request. If all went well, we should once again be presented with the users.</p>

<p class="selectionShareable"><img src="https://cdn.auth0.com/blog/spring-boot-auth/getusers.png" alt="JWT in Spring Boot Application"></p>

<h2>Advantages of Spring Boot</h2>

<p class="selectionShareable">Now that we've completed our Spring Boot application, let's reflect on the advantages this framework gave us:</p>

<ul>
<li><p class="selectionShareable"><strong>Fast development:</strong> Setting up the project took us just a few minutes, getting it to run just a few more.</p></li>
<li><p class="selectionShareable"><strong>Many dependencies managed for us:</strong> While we still had to alter our pom.xml file, we did not have to include too many dependencies. Most of them are added on build time by Maven as dependencies to Spring Boot default libs. Issues of incompatible dependencies are largely gone because of this.</p></li>
<li><p class="selectionShareable"><strong>No XML configuration:</strong> At no point did we have to write XML configuration files: all configuration was done from within Java files by the use of annotations and existing classes and methods.</p></li>
<li><p class="selectionShareable"><strong>Self-contained applications:</strong> The applications we can make with Spring Boot are self-contained. We can simply run the application using one simple command, and the deployment (containing a webserver) is done for us.</p></li>
<li><p class="selectionShareable"><strong>Leverage a mature framework:</strong> Spring Boot can leverage the power of the mature Spring framework, which is something many Java developers are already familiar with, making adoption of Spring Boot more convenient!</p></li>
<li><p class="selectionShareable"><strong>Well documented:</strong> Being well documented is important, and Pivotal has great documentation on how to get started with Spring Boot and Spring. If you're curious about learning more, you should check out the <a href="https://spring.io/guides" target="_blank">Getting Started Guides</a>.</p></li>
</ul>

<h3>Spring Boot and MicroServices</h3>

<p class="selectionShareable">One of the advantages of Spring Boot lies with microservices. Microservices are a successor of the SOA, service oriented architecture. A microservice is responsible for managing a single data domain and the functions thereof. Spring Boot is actually a great example of this principle, as it consists of many different modules that we can use. Recall that during the setup of our application, we could choose between a whole range of these dependencies, dependencies that could be added to our project by including a simple reference to them in our <code>pom.xml</code> file. Each of these dependencies can be thought of as a microservice. Each project would function as a self-contained service that we could then use in other projects.</p>

<p class="selectionShareable"><img src="https://cdn.auth0.com/blog/microservices/Microservices2.png" alt="Spring Boot and MicroServices"></p>

<p class="selectionShareable"><em>Typical microservices diagram</em></p>

<p class="selectionShareable">In our example, we have created a REST service that is self-contained. We could focus on writing just the REST api that deals with logging in and retrieving a list of users. We could then create another Spring Boot project for another part of our application (say, for example, a JSP application or desktop client), if we were so inclined. These Spring Boot applications could then communicate with each other via HTTP, but would be largely independent of each other. This all makes Spring Boot a popular choice in modern architectures, and one worth checking out!</p>

<h2>Aside: Using Spring Boot with Auth0</h2>

<p class="selectionShareable">Securing Spring Boot APIs with Auth0 is an easy task, as we will see, and brings a lot of great features to the table. With Auth0 we have to write just a few lines of code to get a solid <a href="https://auth0.com/docs/identityproviders" target="_blank">identity management solution</a>, including <a href="https://auth0.com/docs/sso/single-sign-on" target="_blank">single sign-on</a>, user management, support for social identity providers (like Facebook, GitHub, Twitter, etc.), enterprise (Active Directory, LDAP, SAML, etc.), and your own database of users.</p>

<p class="selectionShareable">For starters, if you haven't done so yet, this is a good time to sign up for a <a href="https://auth0.com/signup" data-amp-replace="CLIENT_ID" data-amp-addparams="anonId=CLIENT_ID(cid-scope-cookie-fallback-name)" target="_blank">free Auth0 account</a>. Having an Auth0 account, the first thing that we must do is to <a href="https://manage.auth0.com/#/apis" target="_blank">create a new API on the dashboard</a>. An API is an entity that represents an external resource, capable of accepting and responding to protected resource requests made by client applications. And this is exactly what the Spring Boot app that we just built is, an API.</p>

<p class="selectionShareable"><img src="https://cdn.auth0.com/blog/spring-boot-jwts/create-api.png" alt="Creating an API on Auth0's dashboard"></p>

<p class="selectionShareable"><strong>Note</strong>, if you don't already have the APIs menu item, you can enable it by going to your <a href="https://manage.auth0.com/#/account/advanced" target="_blank">Account Settings</a> and in the <strong>Advanced</strong> tab, scroll down until you see <strong>Enable APIs Section</strong> and flip the switch.</p>

<p class="selectionShareable">When creating an API, we must define three fields: <code>Name</code>, which is just a friendly name for our new API; <code>Identifier</code>, which is a <code>String</code> that we will use when requesting an <code>access_token</code>; and the <code>Signing Algorithm</code>, which defines if this API will use a <a href="https://auth0.com/blog/json-web-token-signing-algorithms-overview/" target="_blank">symmetric or asymmetric algorithm</a> to sign the <code>access_token</code>. In our case, we will fill this fields, respectively, with: <code>Spring Boot Users API</code>; <code>spring-boot-jwts</code>; and <code>RS256</code> (i.e. we will use an asymmetric algorithm).</p>

<p class="selectionShareable">Auth0 supports different <a href="https://auth0.com/docs/api-auth" target="_blank">OAuth 2.0 flows to request access tokens</a>. In our particular case, to keep the example simple, we are going to use the <a href="https://auth0.com/docs/api-auth/grant/password" target="_blank">APIs &amp; Trusted Clients flow</a>. Keep in mind that this flow, although being the easiest one to implement, is the less secure one and must be used <strong>only</strong> when the the client application is <strong>absolutely trusted</strong>. Most situations will require other flows, and the <a href="https://auth0.com/docs/api-auth/which-oauth-flow-to-use" target="_blank">"Which OAuth 2.0 flow should I use?"</a> article on Auth0 can help on deciding which is the best approach.</p>

<p class="selectionShareable">To use the <em>APIs &amp; Trusted Clients</em> flow, we must first configure the <code>Default Directory</code> property on our Auth0 account. To do so, head to the <a href="https://manage.auth0.com/#/account" target="_blank">Account settings</a> page and add <code>Username-Password-Authentication</code> as the value of the <code>Default Directory</code> property.</p>

<h3>Changes to the Project</h3>

<p class="selectionShareable">Since we are now using Auth0, we don't need to issue the JWTs ourselves anymore, so there is one dependency that we can remove and a few classes also. All the changes that are required can be found on the <code>auth0</code> <a href="https://github.com/auth0-blog/spring-boot-jwts/tree/auth0" target="_blank">branch on GitHub</a>. But we will go through the changes now.</p>

<p class="selectionShareable">First, let's remove the classes that we don't need anymore. Remove all the files in this list:</p>

<ul>
<li><code>src/main/java/com/example/security/AccountCredentials.java</code></li>
<li><code>src/main/java/com/example/security/JWTAuthenticationFilter.java</code></li>
<li><code>src/main/java/com/example/security/JWTLoginFilter.java</code></li>
<li><code>src/main/java/com/example/security/TokenAuthenticationService.java</code></li>
</ul>

<p class="selectionShareable">And then we remove the following dependency from our <code>pom.xml</code> file:</p>

<pre><code class="xml hljs"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
</code></pre>

<p class="selectionShareable">Now, under <code>./src/main/resources</code>, there is a file called <code>application.properties</code>. This file needs to be populated with data from your Auth0 account. By default, when creating a new account you will have a "Default App", which you could use for this. These are the important parts of that config, so remember to replace the values with the values of your application:</p>

<pre><code class="bash hljs"><span class="comment"># spring-boot-jwts is the identifier of the API that we just created</span>
auth0.audience=spring-boot-jwts
<span class="comment"># replace YOUR-DOMAIN to get something like https://bkrebs.auth0.com/</span>
auth0.issuer=https://YOUR-DOMAIN.auth0.com/
</code></pre>

<p class="selectionShareable">Before we jump into the code, we need to add some dependencies to Maven.</p>

<pre><code class="xml hljs"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.auth0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>auth0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

<span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.auth0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>auth0-spring-security-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0-rc.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>
</code></pre>

<p class="selectionShareable">Once we've done this, let's replace the source code of the <code>WebSecurityConfig</code> class, under the <code>./src/main/java/com/example/security/WebSecurityConfig.java</code> file, with the following:</p>

<pre><code class="java hljs"><span class="keyword">package</span> com.example.security;

<span class="keyword">import</span> com.auth0.spring.security.api.JwtWebSecurityConfigurer;
<span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;
<span class="keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;
<span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
<span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

<span class="meta">@Configuration</span>
<span class="meta">@EnableWebSecurity</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>{
  <span class="meta">@Value</span>(<span class="string">"${auth0.audience}"</span>)
  <span class="keyword">private</span> String audience;

  <span class="meta">@Value</span>(<span class="string">"${auth0.issuer}"</span>)
  <span class="keyword">private</span> String issuer;

  <span class="meta">@Override</span>
  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>{
    http.authorizeRequests()
        .antMatchers(<span class="string">"/"</span>).permitAll()
        .antMatchers(<span class="string">"/users"</span>).authenticated();

    JwtWebSecurityConfigurer
        .forRS256(audience, issuer)
        .configure(http);
  }
}
</code></pre>

<p class="selectionShareable">There we have it, this was all that's required to use Auth0 with Spring Boot. We can jump into testing this application now, once again with Postman or a tool like curl. So let's run the application:</p>

<pre><code class="bash hljs">mvn spring-boot:run
</code></pre>

<p class="selectionShareable">Before getting an access token to issue requests to our API, we first need to create a new user on Auth0. To do that we have to issue a <code>POST</code> request, which requires a <code>Content-Type</code> header with <code>application/json</code>, to <code>https://bkrebs.auth0.com/dbconnections/signup</code> with the following JSON body:</p>

<pre><code class="json hljs">{
  <span class="attr">"client_id"</span>: <span class="string">"hfs2An7Zka9OPbXs0CRpmmmL33IKy4mA"</span>,
  <span class="attr">"email"</span>: <span class="string">"user@test.com"</span>,
  <span class="attr">"password"</span>: <span class="string">"123123"</span>,
  <span class="attr">"connection"</span>: <span class="string">"Username-Password-Authentication"</span>
}
</code></pre>

<p class="selectionShareable">After that we can get an access token. For that we need to issue a <code>POST</code> request to <code>https://bkrebs.auth0.com/oauth/token</code> that contains a JSON object in the body, which also requires a <code>Content-Type</code> header with <code>application/json</code>, that looks like:</p>

<pre><code class="json hljs">{
  <span class="attr">"grant_type"</span>:<span class="string">"password"</span>,
  <span class="attr">"username"</span>: <span class="string">"user@test.com"</span>,
  <span class="attr">"password"</span>: <span class="string">"123123"</span>,
  <span class="attr">"audience"</span>: <span class="string">"spring-boot-jwts"</span>,
  <span class="attr">"client_id"</span>: <span class="string">"hfs2An7Zka9OPbXs0CRpmmmL33IKy4mA"</span>,
  <span class="attr">"client_secret"</span>: <span class="string">"Hx4eFNAT8TI2POIWXhxWDJ8vWpZxt79DQYUl7e898Uw0ASfc7eY42zPf2H-Gv1n1"</span>
}
</code></pre>

<p class="selectionShareable">The <code>client_id</code> and <code>client_secret</code> properties, on both requests, must be changed properly. Their values can be found in the <code>Spring Boot Users API (Test Application)</code> application that Auth0 created for us. Head to the <a href="https://manage.auth0.com/#/applications" target="_blank">Applications page</a> to get them.</p>

<p class="selectionShareable">Issuing this last request will give us an <code>access_token</code>. We will use this token in the header of the <code>GET</code> request that we will send to our Spring Boot API, in a similar manner to how we did it before. Now if we query our endpoint again, we get a list of the users. As we see, integrating Auth0 with Spring Boot is an easy process!</p>

<h2>Conclusion</h2>

<p class="selectionShareable">Creating a project with Spring Boot makes development a lot easier. We can save a lot of time otherwise spent on dealing with configuration and deployment, which are now taken care of for us. We can add a great deal of functionality to our project by including another dependency in our pom.xml, and all this gets bundled into one self-contained, easily-deployed application. As you can tell from the start of this project, there is a lot more to explore with Spring Boot, <a href="http://start.spring.io/" target="_blank">so what are you waiting for? ;-)</a></p>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="15358820607055.html" 
          title="Next Post: Java 8 Concurrency Tutorial: Atomic Variables and ConcurrentMap">Java 8 Concurrency Tutorial: Atomic Variables and ConcurrentMap &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ae58078c0d7b2ab"></script>

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="./asset/img/logo.jpg" /></div>
            
                <h1>Junkman</h1>
                <div class="site-des">“拾荒者”一词来自凯文・凯利的《失控》中关于机器学习的故事（“收集癖好机”如何完成他的收集工作）。</div>
                <div class="social">









<a target="_blank" class="github" target="_blank" href="https://github.com/panlw/" title="GitHub">GitHub</a>

  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Infra.html"><strong>Infra</strong></a>
        
            <a href="Coding.html"><strong>Coding</strong></a>
        
            <a href="Solution.html"><strong>Solution</strong></a>
        
            <a href="Archtect.html"><strong>Archtect</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15359384213292.html">Securing Spring Boot with JWTs</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15358820607055.html">Java 8 Concurrency Tutorial: Atomic Variables and ConcurrentMap</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15358774987730.html">Java 8 Concurrency Tutorial: Synchronization and Locks</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15358757119900.html">Java 8 Concurrency Tutorial: Threads and Executors</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15358756631902.html">Java 8 Stream Tutorial</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>


  </body>
</html>
